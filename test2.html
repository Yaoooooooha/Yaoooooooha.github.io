<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Camera Capture and Save</title>
  </head>
  <body>
    <!-- Button to trigger camera capture -->
    <button id="captureButton">Take Photo</button>

    <script>
      document
        .getElementById("captureButton")
        .addEventListener("click", function () {
          // 创建一个 input 元素用于拍照
          var input = document.createElement("input");
          input.type = "file";
          input.accept = "image/*";
          input.capture = "camera";

          // 监听 change 事件以获取拍摄后的图像
          input.addEventListener("change", function (event) {
            var file = event.target.files[0];
            var reader = new FileReader();

            reader.onload = function (event) {
              // 创建一个新的图片元素来显示拍摄后的图像
              var img = new Image();
              img.src = event.target.result;

              // 创建一个链接元素用于下载图像
              var link = document.createElement("a");
              link.href = event.target.result;
              link.download = "photo.jpg";
              link.innerHTML = "Download Photo";

              // 将图片和下载链接添加到页面中
              document.body.appendChild(img);
              document.body.appendChild(link);
            };

            // 读取拍摄后的图像文件
            reader.readAsDataURL(file);
          });

          // 模拟点击 input 元素以触发拍照
          input.click();
        });
    </script>
  </body>
</html>
